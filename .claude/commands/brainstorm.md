# /brainstorm

Brainstorming для новой фичи - задавай вопросы, исследуй, уточняй.

## Описание

Эта команда запускает интерактивный brainstorming для новой фичи.

ИИ:
- Задаёт уточняющие вопросы
- Исследует тему
- Предлагает варианты реализации
- Создаёт ПРД и план

## Процесс

### 1. Начало

Пользователь говорит что хочет:
```
"Хочу добавить авторизацию пользователей"
"Нужна фича для экспорта данных"
"Добавить уведомления"
```

### 2. Исследование и вопросы

Задавай вопросы для уточнения:

**Общие вопросы:**
- Зачем нужна эта фича? Какую проблему решает?
- Кто будет использовать?
- Как часто будет использоваться?
- Есть ли примеры похожих решений?

**Технические вопросы:**
- Какие данные нужны?
- Какие ограничения?
- Интеграции с другими системами?
- Производительность критична?

**UX вопросы:**
- Как пользователь будет взаимодействовать?
- Что должно происходить при успехе/ошибке?
- Нужна ли обратная связь?

### 3. Исследование контекста

**Читай:**
- `.claude/guides/` - понять архитектуру и паттерны проекта
- Существующий код - найти похожие фичи
- Зависимости - что уже есть, что нужно добавить

**Ищи:**
- Используй Grep для поиска похожих реализаций
- Используй WebSearch если нужно найти best practices
- Используй WebFetch для изучения документации библиотек

### 4. Предложи варианты

Если есть несколько способов реализации - предложи варианты:

```markdown
## Варианты реализации

### Вариант 1: [Название]
**Плюсы:**
- [плюс 1]
- [плюс 2]

**Минусы:**
- [минус 1]

**Сложность:** Низкая / Средняя / Высокая
**Время:** ~X задач

### Вариант 2: [Название]
**Плюсы:**
- [плюс 1]

**Минусы:**
- [минус 1]
- [минус 2]

**Сложность:** ...
**Время:** ~Y задач

**Рекомендация:** Вариант 1 (потому что [причина])
```

### 5. Создай ПРД

Когда все вопросы закрыты - создай ПРД в `work/YYYY-MM-DD--feature-name/prd.md`:

```markdown
# PRD: [Название фичи]

**Дата:** YYYY-MM-DD
**Статус:** В планировании

## Проблема

[Какую проблему решаем]

## Цель

[Чего хотим достичь]

## Целевой пользователь

[Кто будет использовать]

## Функциональные требования

### Обязательные (Must have)
- [ ] Требование 1
- [ ] Требование 2

### Желательные (Should have)
- [ ] Требование 3

### Можно позже (Could have)
- [ ] Требование 4

## Нефункциональные требования

- **Производительность:** [требования]
- **Безопасность:** [требования]
- **Доступность:** [требования]

## User Stories

**As a** [роль]
**I want** [что]
**So that** [зачем]

## Acceptance Criteria

1. **Критерий 1**
   - Дано: [начальное состояние]
   - Когда: [действие]
   - Тогда: [ожидаемый результат]

2. **Критерий 2**
   - ...

## UI/UX (если применимо)

[Описание интерфейса, flow]

## Технические детали

**Стек:**
- [Технологии которые будут использованы]

**Интеграции:**
- [С какими системами интеграция]

**Зависимости:**
- [Новые библиотеки если нужны]

## Out of Scope

[Что НЕ входит в эту фичу]

## Риски и митигация

| Риск | Вероятность | Митигация |
|------|-------------|-----------|
| [Риск 1] | Высокая/Средняя/Низкая | [Как снизим] |

## Следующие шаги

1. Утверждение ПРД
2. Создание детального плана
3. Реализация
```

### 6. Создай план

После создания ПРД - создай план в `work/YYYY-MM-DD--feature-name/plan.md`:

```markdown
# План реализации: [Название фичи]

**ПРД:** [ссылка на prd.md]
**Дата:** YYYY-MM-DD

## Общий подход

[Краткое описание как будем реализовывать]

## Архитектура

[Как вписывается в существующую архитектуру]

## Задачи

### Задача 1: [Название]
**Описание:** [Что нужно сделать]

**Файлы:**
- `src/module/file.py` - [что делать]
- `tests/test_file.py` - [какие тесты]

**Acceptance Criteria:**
- [ ] Критерий 1
- [ ] Критерий 2

**Зависимости:** Нет / Задача N

**Оценка:** ~X минут

---

### Задача 2: [Название]
...

## Порядок выполнения

1. Задача 1 (независимая)
2. Задача 2 (зависит от 1)
3. Задача 3 (независимая)
...

## Проверка

После реализации всех задач:
- [ ] Все тесты зелёные
- [ ] Все acceptance criteria выполнены
- [ ] Code review пройден
- [ ] Security audit пройден (если критично)
- [ ] Документация обновлена
```

### 7. Создай папки для задач

```bash
mkdir -p work/YYYY-MM-DD--feature-name/tasks
```

Создай файлы задач `work/YYYY-MM-DD--feature-name/tasks/task-001.md`, `task-002.md`, etc.

### 8. Запроси апрув

```markdown
## ✅ Brainstorming завершён!

Создано:
- ПРД: `work/2025-01-15--auth/prd.md`
- План: `work/2025-01-15--auth/plan.md`
- Задачи: `work/2025-01-15--auth/tasks/` (N задач)

### Краткое резюме

**Фича:** Авторизация пользователей через email/password
**Задач:** 5
**Оценка:** ~2-3 часа
**Подход:** JWT токены, bcrypt для паролей, middleware для защиты endpoints

### Следующий шаг

Прочитай ПРД и план. Если всё ОК - дай апрув и я начну реализацию.

Готов начинать? (yes/no, или предложи изменения)
```

## Принципы

- **Задавай вопросы** - никогда не придумывай
- **Исследуй** - читай код, guides, документацию
- **Варианты** - если есть несколько подходов, предложи выбор
- **Детальность** - чем детальнее план, тем проще реализация
- **Реализуемость** - убедись что план выполним
