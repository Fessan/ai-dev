# Инструкция по использованию ai-dev (с Source PRD в корне)

Ниже описан процесс работы **строго по текущим правилам репозитория**. Сценарий: PRD уже готов и лежит в корне проекта в Markdown.

## 1. Source PRD в корне

- Положи исходный PRD в корень проекта (например, `PRD-user-auth.md`).
- Исходник считается **Source PRD** и **не редактируется**.

## 2. Запуск brainstorming

Запусти:

```
/brainstorm
```

В сообщении укажи, что PRD уже есть:

```
PRD уже есть в корне: PRD-user-auth.md
```

Brainstorming создаст нормализованный PRD в `work/YYYY-MM-DD--feature/prd.md` и добавит ссылку на Source PRD.

## 3. Нормализованный PRD

В `work/YYYY-MM-DD--feature/prd.md` должны быть:

- `Source PRD (root):` путь к исходнику в корне
- `Normalization notes:` что адаптировано/уточнено при переносе

Рабочий PRD — основной источник требований для плана и задач.

## 4. Журнал PRD

В `docs/plans.md` добавляется строка:

- Source PRD
- Рабочий PRD (`work/.../prd.md`)
- План (`work/.../plan.md`)
- Статус и даты

`docs/plans.md` — **только журнал ссылок и статусов**, не место для PRD/планов.

## 5. План реализации

План создается в `work/YYYY-MM-DD--feature/plan.md`.

После создания плана нужен явный апрув перед реализацией.

## 6. Реализация (TDD)

Задачи выполняются по одной, строго через TDD:

1. Падающий тест
2. Запуск — убеждаемся, что падает
3. Минимальный код
4. Запуск — убеждаемся, что проходит
5. Рефакторинг (если нужно)

Перед следующей задачей обязательно спросить апрув.

## 7. Guides и решения

Guides (`.claude/guides/`) обновляются автоматически после значимых изменений.

В `DECISIONS.md` фиксируются архитектурные решения и выборы технологий.

## Короткий чек-лист

- Source PRD в корне (не редактировать)
- `/brainstorm` с указанием Source PRD
- `work/.../prd.md` с ссылкой на Source PRD
- запись в `docs/plans.md`
- `work/.../plan.md` + апрув
- реализация по задачам, TDD, апрув между задачами
